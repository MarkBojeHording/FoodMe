
<!--
<html><head>
</head><body>
<div class="picture-container" style="max-width: 390px; nax-height: 830px;">
    <video class="vh-100" src="" ></video>
    <input type="file" name="image" accept="image/*" capture="environment">
</div>
<button id='flipCamera'>Flip</button>
</body>
<script>
  var front = false;
var video = document.querySelector('video');
  document.getElementById('flipCamera').onclick = function() { front = !front; };
  var constraints = { video: { facingMode: (front? "user" : "environment"), width: 640, height: 480  } };
  navigator.mediaDevices.getUserMedia(constraints)
  .then(function(mediaStream) {
    video.srcObject = mediaStream;
    video.onloadedmetadata = function(e) {
    video.play();
};
})
.catch(function(err) { console.log(err.name + ": " + err.message); })
</script></html>
-->


<%# <input type="file" name="image" accept="image/*" capture> %>

<div class='general-home container'>
  <div class="logo mt-5 d-flex justify-content-center">
    <%= image_tag 'logo-foodme.png', class: 'logo-pic' %>
  </div>
  <div class="title">
    <h1>Food me</h1>
    <p>Take a pic and see the dish</p>
  </div>
  <div class='d-flex justify-content-center' data-controller="upload">
    <%= simple_form_for(@menu, url: text_extract_path) do |f| %>
            <label id="upload">
            <%= image_tag src="upload.svg"%>
              <span style="display:none;">
                <%=f.input :photo, as: :file, label_html: {class: 'test'}, input_html: { class: "test2", data: {action: "change->upload#changed"} } %>
              </span>
            </label>
            <br>
            <label>
            <button class="btn btn-primary d-none" id="upload-submit" data-upload-target="button" style="animation: fa-beat 1.5s infinite linear;">Food me!</button>
              <span style="display:none;">
                <%= f.button :submit, class:'create-menu' %>
              </span>
            </label>
        <% end %>
  </div>
</div>
